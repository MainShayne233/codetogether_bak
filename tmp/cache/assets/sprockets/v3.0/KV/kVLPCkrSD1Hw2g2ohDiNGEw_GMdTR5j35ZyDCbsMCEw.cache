I"œ(function() {
  var ready;

  ready = function() {
    $('textarea').keyup(function(event) {
      var content, id, user_id;
      id = $(event.target).attr('id');
      content = $(event.target).val();
      user_id = $('input.user').attr('id');
      $.ajax({
        type: 'PATCH',
        url: '/whiteboards/' + id,
        data: {
          content: content
        },
        datatype: 'JSON'
      });
      return App.coderoom.type(id, content, user_id);
    });
    return CodeMirror.fromTextArea($('#code'), {
      lineNumbers: true,
      mode: "text/x-haml"
    });
  };

  $(document).ready(ready);

  $(document).on('page:load', ready);

}).call(this);
:ET